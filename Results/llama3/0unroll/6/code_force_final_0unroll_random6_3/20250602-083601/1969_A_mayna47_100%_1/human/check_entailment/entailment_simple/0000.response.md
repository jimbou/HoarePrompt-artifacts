Reasoning:

The given program is correct. Here's why:

1.  The program first reads the number of test cases `t` and then iterates over each test case.
2.  For each test case, it reads the number of friends `n` and their best friends `p_i` in the form of a list `v`.
3.  It then checks for each friend `i` if their best friend `v[i]` has `i` as their best friend, i.e., `v[v[i]] == i`. If such a pair is found, it prints `2` and returns, because in this case, Monocarp can send invitations to these two friends and both will come to the party.
4.  If no such pair is found after checking all friends, it prints `3`, because in this case, Monocarp needs to send invitations to at least three friends to ensure that at least two come to the party.

The program's logic is correct based on the problem description. It handles the case where there is a pair of friends who are each other's best friends, and it also handles the case where no such pair exists.

Correctness: **True**