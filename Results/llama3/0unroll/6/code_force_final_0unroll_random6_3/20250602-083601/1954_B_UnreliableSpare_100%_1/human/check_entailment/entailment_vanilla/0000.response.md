Reasoning:

The given Python program is designed to solve the problem of finding the minimum number of elements that need to be removed from a beautiful array to make it stop being beautiful.

Here's a step-by-step breakdown of the program's logic:

1. The program starts by reading the number of test cases and then iterating over each test case.

2. For each test case, it reads the size of the array `n` and the array `arr` itself.

3. It then checks if all elements in the array are the same by iterating over the array and comparing each element with the previous one. If it finds any pair of different elements, it sets the `flag` variable to `False`.

4. If the `flag` is still `True` after the iteration, it means that all elements in the array are the same, and the program prints `-1` as it's impossible to make the array stop being beautiful by removing elements.

5. If the `flag` is `False`, the program initializes a variable `ans` to infinity and a variable `cnt` to 0. It then iterates over the array, counting the consecutive occurrences of the same element. Whenever it encounters a different element, it updates `ans` with the minimum of `ans` and `cnt`, and resets `cnt` to 0.

6. After the iteration, the program updates `ans` one more time with the minimum of `ans` and `cnt` to account for the last sequence of consecutive elements.

7. Finally, the program prints the value of `ans`, which represents the minimum number of elements that need to be removed to make the array stop being beautiful.

The program's logic is correct, and it should produce the expected output for the given problem.

Correctness: **True**