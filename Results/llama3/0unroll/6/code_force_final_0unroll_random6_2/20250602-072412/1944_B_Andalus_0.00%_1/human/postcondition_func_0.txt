This function reads multiple test cases from standard input, where each test case consists of two lines. The first line contains two integers n and k, and the second line contains 2n integers. The function then processes these integers, separating them into two halves, and identifies the integers that occur twice and those that occur only once in each half. It then prints k integers for each test case, prioritizing the integers that occur twice in each half, followed by the single integers from each half, ensuring that each integer from 1 to n occurs exactly twice in the output. The function repeats this process for each test case.