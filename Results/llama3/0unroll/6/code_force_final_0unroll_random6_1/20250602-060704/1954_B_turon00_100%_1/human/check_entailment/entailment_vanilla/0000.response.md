Reasoning:

The given program is designed to solve the problem of finding the minimum number of elements that need to be removed from a beautiful array to make it not beautiful. 

Here's a step-by-step breakdown of the program's logic:

1. The program first reads the number of test cases `t` and then iterates over each test case.

2. For each test case, it reads the size of the array `n` and the array `a` itself.

3. It then initializes a variable `tmp` with the first element of the array and a counter `cnt` to 0. The variable `ans` is initialized with the size of the array `n`.

4. The program then iterates over the array. If the current element is equal to `tmp`, it increments the counter `cnt`. If the current element is not equal to `tmp`, it updates `ans` with the minimum of `ans` and `cnt`, and resets `cnt` to 0.

5. After the loop, it updates `ans` with the minimum of `ans` and `cnt` one more time to handle the case where the last segment of the array has the same elements.

6. If `n` is 1 or `ans` is equal to `n`, it prints -1, indicating that it's impossible to make the array not beautiful by removing elements. Otherwise, it prints `ans`, which is the minimum number of elements that need to be removed.

The program's logic is correct and it handles all the edge cases properly. 

Correctness: **True**