This function calculates the integer square root of a non-negative integer x. It returns the largest integer whose square is less than or equal to x. If x is 0 or 1, it returns x. Otherwise, it performs a binary search to find the integer square root, returning the largest integer whose square is less than or equal to x.