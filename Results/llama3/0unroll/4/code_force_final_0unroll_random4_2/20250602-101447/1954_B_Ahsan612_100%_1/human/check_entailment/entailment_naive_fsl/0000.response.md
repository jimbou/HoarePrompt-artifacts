Correctness: **False**.

The program does not work correctly when the input array has only two distinct elements, and they are alternating. In this case, the program will return the length of the shorter sequence, but it should return 1, because removing one element from the shorter sequence will make the array not beautiful.

For example, if the input is:

5
1 2 1 2 1

The program will return 2, but the correct answer is 1.