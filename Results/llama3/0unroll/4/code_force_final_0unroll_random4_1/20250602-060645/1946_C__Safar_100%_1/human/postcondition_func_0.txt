Constructs an adjacency list representation of a tree from a list of edges and prints the largest value for which a certain condition (check(r)) is False.