Reasoning:

The given Python program is designed to solve a problem involving the calculation of the expected value of the sum of friendship values of all k pairs chosen for excursions. The program takes input from the user, which includes the number of test cases, the number of children, pairs of friends, and excursions, as well as the friendship values for each pair.

The program calculates the sum of friendship values for each test case and then uses this sum to calculate the expected value of the sum of friendship values for all k pairs chosen for excursions. The expected value is calculated using the formula `p * pow(q, -1, M) % M`, where `p` and `q` are the numerator and denominator of the expected value, respectively, and `M` is the modulus (10^9 + 7).

The program uses the `math.gcd` function to calculate the greatest common divisor of `p` and `q` and then divides both `p` and `q` by the gcd to simplify the fraction. Finally, the program prints the result of the modular inverse calculation for each test case.

The program appears to be correct in its logic and implementation. It correctly calculates the sum of friendship values for each test case and uses this sum to calculate the expected value of the sum of friendship values for all k pairs chosen for excursions. The use of the `math.gcd` function to simplify the fraction and the `pow` function to calculate the modular inverse is also correct.

Therefore, the correctness of the program is **True**.

Correctness: **True**