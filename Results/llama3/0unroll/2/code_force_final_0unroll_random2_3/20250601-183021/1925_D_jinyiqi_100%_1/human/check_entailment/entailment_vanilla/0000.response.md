Reasoning:

The given program is designed to calculate the expected value of the sum of friendship values of all k pairs chosen for the excursions. The program first reads the number of test cases, then for each test case, it reads the number of children (n), the number of pairs of friends (m), and the number of excursions (k). It then calculates the sum of the friendship values of all pairs of friends.

The program then calculates the total number of possible pairs of children (cn2) and the probability (p) that a pair of friends is chosen in each excursion. The probability is calculated as the sum of the probabilities of choosing each pair of friends in each excursion, which is 2 * k * cn2 * sum_f, plus the probability of choosing a pair of friends more than once, which is m * k * (k - 1).

The program then calculates the denominator (q) of the expected value, which is the total number of possible pairs of children squared (2 * cn2 ** 2).

The program then calculates the greatest common divisor (gcd) of p and q, and divides both p and q by the gcd to simplify the fraction.

Finally, the program calculates the modular inverse of q modulo M (10^9 + 7) using the pow function, multiplies it by p, and prints the result modulo M.

Correctness: **True**