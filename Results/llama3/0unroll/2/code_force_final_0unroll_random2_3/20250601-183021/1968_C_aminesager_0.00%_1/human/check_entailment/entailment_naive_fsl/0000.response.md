Correctness: **False**.

The program does not work correctly when the input array contains a number that is greater than or equal to the previously calculated a_i. In such a case, the program will produce a negative number for a_i, which is not allowed according to the problem description (1 ≤ a_i ≤ 10^9).

For example, if the input is:

5
4
2 4 1 3

The program will output:

1000 998 997 996 993

However, a_3 = 997 is not a valid solution because 3 = 1 mod 997 is not true.

A correct solution would need to handle such cases and ensure that all a_i are within the allowed range and satisfy the given conditions.