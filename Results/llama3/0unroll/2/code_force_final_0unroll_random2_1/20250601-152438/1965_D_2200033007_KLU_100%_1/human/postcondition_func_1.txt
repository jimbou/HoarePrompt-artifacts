This function takes a list of integers as input and returns a new list containing the first and last elements of the input list that are not equal to each other, as well as any elements in between that are not equal to the last element of the output list. The function effectively filters out consecutive duplicate elements from the input list, preserving the first occurrence of each element and the last occurrence of each element that is not equal to the previous one.