Reasoning:

The given program is correct. It correctly calculates the expected value of the sum of friendship values of all k pairs chosen for the excursions and prints the modular inverse of the fraction.

The program first reads the number of test cases, then for each test case, it reads the number of children (n), the number of pairs of friends (m), and the number of excursions (k). It then calculates the sum of the friendship values (sum_f) by reading the friendship values for each pair of friends.

The program then calculates the numerator (p) and denominator (q) of the fraction. The numerator is calculated as 2 * k * cn2 * sum_f + m * k * (k - 1), where cn2 is the number of possible pairs of children (n * (n - 1) // 2). The denominator is calculated as 2 * cn2 ** 2.

The program then calculates the greatest common divisor (gcd) of p and q, and divides both p and q by the gcd to simplify the fraction.

Finally, the program calculates the modular inverse of q modulo 10^9 + 7 using the pow function, multiplies it by p, and prints the result modulo 10^9 + 7.

Correctness: **True**