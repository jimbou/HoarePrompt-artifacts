Reasoning:

The given program is correct. Here's why:

1. The program correctly reads the input for each test case, which consists of an integer n and a list of n integers.
2. The program initializes an array res of size n to store the result, and a variable mex to keep track of the minimum excluded value (MEX).
3. The program iterates over the input list in reverse order (from the last element to the first). For each element, it calculates the difference between the current MEX and the element, and stores this difference in the corresponding position in the res array.
4. The program updates the MEX to be the minimum of the current MEX and the difference calculated in step 3. This ensures that the MEX is always the smallest non-negative integer that has not been seen so far.
5. After iterating over the entire input list, the program prints the res array, which contains the differences between the MEX and each element in the input list.

The key insight here is that the program uses the fact that the MEX of a prefix of the permutation is equal to the difference between the MEX of the entire permutation and the last element of the prefix. By iterating over the input list in reverse order, the program can efficiently calculate the MEX for each prefix and construct the permutation.

Correctness: **True**