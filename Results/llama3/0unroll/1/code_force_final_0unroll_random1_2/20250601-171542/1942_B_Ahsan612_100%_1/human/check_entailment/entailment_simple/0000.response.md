Reasoning:

The given program is correct. Here's why:

1. The program correctly reads the input for each test case, which consists of an integer `n` and a list of `n` integers `a_1, a_2, ..., a_n`.

2. The program initializes an array `res` of size `n` to store the permutation `p`. It also initializes a variable `mex` to `n`, which will be used to keep track of the minimum excluded value.

3. The program then iterates over the input list `ar` in reverse order. For each element `ar[i]`, it calculates the corresponding element `res[i]` of the permutation `p` as `mex - ar[i]`. This is based on the definition of the array `a`, where `a_i = MEX(p_1, p_2, ..., p_i) - p_i`.

4. After calculating `res[i]`, the program updates the `mex` value to be the minimum of the current `mex` and `mex - ar[i]`. This ensures that `mex` always represents the minimum excluded value.

5. Finally, the program prints the permutation `p` as a list of integers.

The program's logic is correct, and it should produce the expected output for the given input.

Correctness: **True**