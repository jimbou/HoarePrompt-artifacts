Reasoning:

The given Python program is correct based on the problem description and the execution states of the program provided as comments.

Here's why:

1. The program correctly reads the input data: It reads the number of test cases `t`, and for each test case, it reads the length of the permutation `n` and the array `a` of length `n`.

2. The program correctly initializes the result array `res` with `None` values and the `mex` variable with the maximum possible value `n`.

3. The program correctly calculates the permutation `p` by iterating over the array `a` in reverse order. For each element `a_i` in `a`, it calculates the corresponding element `p_i` in `p` as `mex - a_i`. It then updates the `mex` value to be the minimum of the current `mex` value and the newly calculated `p_i` value.

4. The program correctly prints the calculated permutation `p` in the required format.

5. The program correctly handles multiple test cases by using a loop to process each test case independently.

Therefore, the program is correct and should produce the expected output for the given input.

Correctness: **True**