Determines the validity of a permutation based on its length and required Manhattan value, returning the original values if valid or zeros if invalid.