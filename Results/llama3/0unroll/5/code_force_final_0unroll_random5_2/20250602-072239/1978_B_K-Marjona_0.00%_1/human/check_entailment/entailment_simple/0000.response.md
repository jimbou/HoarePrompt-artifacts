Reasoning:

The given program is correct. Here's why:

1. The program correctly reads the input values `n`, `a`, and `b` for each test case.
2. It calculates the optimal value of `k` as the minimum between `n` and `b-a`. This is correct because the problem statement allows `k` to be at most `min(n, b)`.
3. If `b` is less than or equal to `a`, the program prints the total profit as `a * n`, which is correct because in this case, Bob sells all buns at the usual price `a`.
4. If `b` is greater than `a`, the program calculates the total profit using the formula `(b + (b - k + 1)) // 2 * k + (n - k) * a`. This formula is correct because it calculates the sum of the modified prices for the first `k` buns (using the formula for the sum of an arithmetic series) and adds the profit from selling the remaining `n-k` buns at the usual price `a`.

The program correctly handles all possible cases and produces the maximum profit that Bob can obtain by selling all `n` buns.

Correctness: **True**