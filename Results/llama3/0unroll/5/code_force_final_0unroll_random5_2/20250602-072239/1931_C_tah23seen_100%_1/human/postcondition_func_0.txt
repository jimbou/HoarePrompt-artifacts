This function calculates the maximum number of consecutive identical elements in a list that can be removed to make the first and last elements of the list different. It takes a list of integers as input and returns the maximum number of removable consecutive identical elements. If all elements in the list are the same, it returns 0. If the first and last elements are the same, it returns the maximum number of consecutive identical elements that can be removed from the end of the list. Otherwise, it returns the maximum number of consecutive identical elements that can be removed from the start or end of the list.