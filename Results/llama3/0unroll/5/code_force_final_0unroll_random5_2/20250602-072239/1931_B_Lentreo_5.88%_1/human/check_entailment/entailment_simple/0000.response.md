Reasoning:

The given program is correct. Here's why:

1.  The program correctly reads the input and initializes the necessary variables.
2.  It iterates over each test case, reads the number of containers `n`, and the amounts of water in each container `nums`.
3.  It calculates the target amount of water in each container `last` by taking the last element of `nums`. This is correct because the problem states that the sum of `a_i` is divisible by `n`, so the last element of `nums` will be the target amount of water in each container.
4.  It initializes a variable `curr` to 0, which will be used to calculate the sum of the differences between each non-zero number and the target amount of water.
5.  It iterates over each number `i` in `nums`. If `i` is not 0, it adds the difference between `i` and the target amount of water `last` to `curr`. This is correct because the problem allows pouring water from one container to another, so the difference between each non-zero number and the target amount of water is what matters.
6.  Finally, it checks if `curr` is 0. If it is, it prints 'YES', indicating that it is possible to make the amount of water in all containers the same using the described operation. Otherwise, it prints 'NO'.

The program's logic is sound, and it correctly implements the problem's requirements.

Correctness: **True**