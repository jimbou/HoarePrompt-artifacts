Reasoning:

The given program is correct. It correctly calculates the expected value of the sum of friendship values of all k pairs chosen for the excursions.

Here's a breakdown of the program's correctness:

1. The program correctly reads the input for each test case, which consists of the number of children (n), the number of pairs of friends (m), and the number of excursions (k).
2. It calculates the inverse of the number of possible pairs of nodes in a graph (c = pow(n * (n - 1) // 2, -1, M)), which is used in the subsequent calculations.
3. It initializes the sum (s) and the sum of friendship values (a) to 0.
4. It reads the m lines of three integers each, which represent the pairs of friends and their friendship values. It adds the friendship values to the sum (a).
5. It performs the calculation for each excursion (i) from 0 to k-1. For each excursion, it adds the product of the inverse of the number of pairs (c), the current excursion number (i), the inverse of the number of pairs again (c), and the sum of friendship values (a) to the sum (s). This calculation is done modulo M.
6. Finally, it prints the result for each test case, which is the sum (s) modulo M.

The program's logic is correct, and it accurately implements the problem's requirements. Therefore, the correctness of the program is True.

Correctness: **True**