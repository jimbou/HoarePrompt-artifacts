Reasoning:

The given Python program is correct based on the problem description and the execution states of the program provided as comments.

The program correctly reads the input from stdin, processes multiple test cases, and prints 'YES' or 'NO' for each case. It calculates the sum of differences between each non-zero number and the last number in the list, and prints 'YES' if the sum is zero, otherwise 'NO'.

The program's logic is correct because it takes into account the fact that the sum of a_i is divisible by n, which means that the average amount of water in each container is an integer. The program checks if it is possible to make the amount of water in all containers the same by pouring water from one container to another, which is only possible if the sum of differences between each non-zero number and the last number in the list is zero.

The program's output state is also correct, as it prints 'YES' or 'NO' for each test case, indicating whether it is possible to make the amount of water in all containers the same.

Therefore, the correctness of the program is **True**.

Correctness: **True**