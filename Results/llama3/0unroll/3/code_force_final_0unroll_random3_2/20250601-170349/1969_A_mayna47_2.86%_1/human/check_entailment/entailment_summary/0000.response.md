Reasoning:

The given program is correct. It correctly implements the logic to solve the problem. 

Here's a breakdown of the program's correctness:

1.  The program first reads the number of test cases `t` and then iterates over each test case.
2.  For each test case, it reads the number of friends `n` and their best friend preferences `v`.
3.  If `n` is 2, it directly prints 2 because in this case, both friends need to be invited to have at least 2 friends at the party.
4.  If `n` is not 2, it checks for a specific condition in the list `v`. The condition is that there exists a pair of friends `i` and `j` such that `i`'s best friend is `j` and `j`'s best friend is `i`. If this condition is met, it prints 2 because inviting these two friends is enough to have at least 2 friends at the party.
5.  If the condition is not met and `n` is not 2, it prints 3. This is because in the worst-case scenario, we need to invite at least 3 friends to ensure that at least 2 friends come to the party.

The program's logic is correct, and it handles all possible cases. Therefore, the correctness of the program is True.

Correctness: **True**