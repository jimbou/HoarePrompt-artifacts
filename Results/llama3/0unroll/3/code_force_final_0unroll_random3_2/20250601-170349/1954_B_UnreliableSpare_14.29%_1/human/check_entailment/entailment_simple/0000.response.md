Reasoning:

The given program is correct. Here's why:

1. The program first checks if all elements in the array are the same. If they are, it prints -1, because it's impossible to make the array not beautiful by removing elements.

2. If the array is not all the same, the program then finds the minimum number of consecutive occurrences of the first element in the array. This is because the array is beautiful, meaning that all elements can be made the same by replacing elements with their neighbors. Therefore, the minimum number of elements that need to be removed to make the array not beautiful is the minimum number of consecutive occurrences of any element.

3. The program correctly handles the case where the array has only one element, in which case it prints -1.

4. The program also correctly handles the case where the array has only two distinct elements, in which case it prints the minimum number of consecutive occurrences of either element.

5. The program uses the `Decimal` class to avoid potential integer overflow issues when dealing with large inputs.

6. The program correctly prints the minimum number of elements that need to be removed to make the array not beautiful, or -1 if it's impossible.

Correctness: **True**