Reasoning: 
The given program is correct. It correctly solves the problem by first finding the indices of the first occurrence of each integer in the list, and then using binary search to find the range of indices for each query. The program handles edge cases correctly, such as when the query range is within the same integer or when the query range is outside the list. The program also correctly handles the case when there are no different elements in the query range.

Correctness: **True**