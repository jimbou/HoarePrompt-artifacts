Reasoning:

The given program is designed to solve the problem of finding the minimum number of elements that need to be removed from a beautiful array to make it stop being beautiful.

Here's a step-by-step breakdown of the program's logic:

1. The program iterates over each test case.
2. For each test case, it reads the size of the array `n` and the array `ar` itself.
3. It initializes variables `same` to 1 (to count the number of consecutive elements with the same value) and `num` to the first element of the array.
4. It also initializes `minn` to infinity, which will store the minimum number of consecutive elements with the same value.
5. The program then iterates over the array, starting from the second element (index 1).
6. If the current element is the same as the previous one (`ar[i] == num`), it increments the `same` counter.
7. If the current element is different from the previous one (`ar[i] != num`), it updates `num` to the current element, updates `minn` to be the minimum of `minn` and `same`, and resets `same` to 1.
8. After the loop, it updates `minn` one last time to be the minimum of `minn` and `same`.
9. If `minn` is still infinity, it means that all elements in the array are the same, and it's impossible to make the array stop being beautiful, so it prints -1.
10. Otherwise, it prints the minimum number of elements that need to be removed, which is `minn`.

The program's logic is correct, and it should produce the expected output for the given problem.

Correctness: **True**