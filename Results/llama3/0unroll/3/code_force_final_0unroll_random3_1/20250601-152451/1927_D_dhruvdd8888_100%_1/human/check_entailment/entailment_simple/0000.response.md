Reasoning: 

The given program is correct. It correctly solves the problem by first finding the ranges of consecutive equal numbers in the list, and then for each query, it uses binary search to find the range that the left boundary of the query falls into. It then checks if the right boundary of the query falls within the same range, and if not, it checks if the next range exists and if its left boundary is within the query range. If none of these conditions are met, it prints -1 -1.

The program handles all possible cases correctly, including when the left boundary of the query is at the start of a range, when the right boundary of the query is at the end of a range, and when the query range spans multiple ranges of consecutive equal numbers.

Correctness: **True**