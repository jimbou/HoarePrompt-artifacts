The function reads a series of test cases from standard input, where each test case consists of two lines: the first line contains two integers n and k, and the second line contains n integers. It then counts the occurrences of each integer and determines the minimum between n and k-1, printing this value for each test case. The function continues this process until all test cases have been processed, at which point it terminates.