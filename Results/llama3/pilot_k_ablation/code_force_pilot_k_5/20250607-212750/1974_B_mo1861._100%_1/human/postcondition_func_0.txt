Replaces each character in the input string 'encoded' with its corresponding character in a string 'r' containing unique characters from 'encoded' in sorted order, in reverse order, and returns the resulting string.