Correctness: **False**.

The program does not correctly calculate the expected value of the sum of friendship values of all k pairs chosen for the excursions. The issue lies in the calculation of the numerator and denominator.

The numerator should be the sum of the products of the friendship values and the number of times each pair is chosen, which is not correctly calculated in the program. The denominator should be the total number of ways to choose k pairs from n children, which is also not correctly calculated.

For example, consider the case where n = 3, m = 2, k = 2, and the friendship values are 1 and 2. The program will calculate the numerator as 2 * 2 * 2 - 2 * 2 + 2 * 3 * 2 * (1 + 2) = 24, and the denominator as 2 * 3 * 3 = 18. However, the correct numerator should be 1 * 2 + 2 * 2 = 6, and the denominator should be 3 * 2 = 6. Therefore, the program will produce an incorrect result for this case.

To correctly calculate the expected value, the program should iterate over all possible pairs of children and calculate the probability of each pair being chosen, then multiply this probability by the friendship value and sum over all pairs. The denominator should be the total number of ways to choose k pairs from n children.