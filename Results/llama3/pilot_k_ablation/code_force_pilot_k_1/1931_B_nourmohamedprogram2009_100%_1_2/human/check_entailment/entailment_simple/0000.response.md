Reasoning:

The given program is correct. Here's why:

1.  The program correctly reads the input for each test case, which consists of the number of containers `n` and the amounts of water in each container `a_1, a_2, ..., a_n`.
2.  It calculates the total amount of water `total_water` by summing up all the amounts in `a`.
3.  It calculates the target amount of water `target` for each container by dividing the total amount of water by the number of containers `n`. This is correct because the problem statement guarantees that the sum of `a_i` is divisible by `n`.
4.  It initializes a variable `current_balance` to keep track of the balance of water after pouring from one container to another. It also initializes a boolean variable `possible` to `True`, assuming that it is possible to make the amount of water in all containers the same.
5.  The program then iterates over each container. For each container, it adds the difference between the amount of water in the current container `a[i]` and the target amount `target` to `current_balance`. If `current_balance` becomes negative at any point, it means that there is not enough water in the previous containers to pour into the current container to make it equal to the target amount. In this case, it sets `possible` to `False` and breaks out of the loop.
6.  After iterating over all containers, the program checks the value of `possible`. If it is still `True`, it means that it is possible to make the amount of water in all containers the same, so it prints "YES". Otherwise, it prints "NO".

Correctness: **True**