This function reads multiple test cases from standard input, where each test case consists of two lines. The first line contains two integers n and k, and the second line contains 2n integers. The function then processes these integers, separating them into two lists (left and right), and further categorizes them into three groups: left doubles, right doubles, and singles. It then prints out a subset of these integers, prioritizing doubles and then singles, until it reaches a total count of 2k for each test case. The function repeats this process for all test cases.