Reasoning:

The given program is correct. Here's why:

1.  The program correctly reads the number of test cases `t` and iterates over each test case.
2.  For each test case, it reads the values of `n`, `a`, and `b` and calculates the initial profit as `n * a`, which is the profit if all buns are sold at the usual price `a`.
3.  If `a` is greater than or equal to `b`, it means that selling all buns at the usual price `a` will result in the maximum profit, so it prints the initial profit.
4.  If `a` is less than `b`, it calculates the optimal value of `k` (the number of buns to sell at the modified price) as `b - a`, but ensures that `k` does not exceed `n - 1` to avoid selling more buns than available.
5.  It then calculates the additional profit gained by selling `k` buns at the modified price using the formula `(b - a) * (k + 1) - k * (k + 1) / 2`, which is derived from the sum of an arithmetic series.
6.  Finally, it prints the total profit, which is the sum of the initial profit and the additional profit gained from selling `k` buns at the modified price.

The program correctly handles all possible cases and calculates the maximum profit that Bob can obtain by selling all `n` buns.

Correctness: **True**