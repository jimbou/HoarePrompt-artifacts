# Test 1
**Input**: 
```
3
5
3 1 2 5 4
4
2 3 4 1
2
2 1
```
**Output**: 
```
2
3
2
```
**Explanation**: This test case covers the basic functionality of the problem. It includes three test cases with different numbers of friends and their best friends. The expected output is the minimum number of invitations Monocarp has to send so that at least 2 friends come to the party.

# Test 2
**Input**: 
```
1
2
2 1
```
**Output**: 
```
2
```
**Explanation**: This test case covers the scenario where there are only two friends. In this case, Monocarp needs to send invitations to both friends so that they can come to the party.

# Test 3
**Input**: 
```
1
3
2 3 1
```
**Output**: 
```
3
```
**Explanation**: This test case covers the scenario where there are three friends. In this case, Monocarp needs to send invitations to all three friends so that at least two of them can come to the party.

# Test 4
**Input**: 
```
1
4
2 3 4 1
```
**Output**: 
```
3
```
**Explanation**: This test case covers the scenario where there are four friends. In this case, Monocarp needs to send invitations to three friends so that at least two of them can come to the party.

# Test 5
**Input**: 
```
1
5
3 1 2 5 4
```
**Output**: 
```
2
```
**Explanation**: This test case covers the scenario where there are five friends. In this case, Monocarp needs to send invitations to two friends so that they can come to the party.

# Test 6
**Input**: 
```
1
50
2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
```
**Output**: 
```
2
```
**Explanation**: This test case covers the scenario where there are 50 friends. In this case, Monocarp needs to send invitations to two friends so that they can come to the party.

# Test 7
**Input**: 
```
1
2
1 2
```
**Output**: 
```
2
```
**Explanation**: This test case covers the scenario where the input is invalid (p_i = i). In this case, the function should return an error or handle the situation appropriately.

# Test 8
**Input**: 
```
1
2
2 2
```
**Output**: 
```
2
```
**Explanation**: This test case covers the scenario where the input is invalid (p_i is not distinct). In this case, the function should return an error or handle the situation appropriately.

# Test 9
**Input**: 
```
1
2
3 1
```
**Output**: 
```
2
```
**Explanation**: This test case covers the scenario where the input is invalid (p_i is out of range). In this case, the function should return an error or handle the situation appropriately.

# Test 10
**Input**: 
```
1
0
```
**Output**: 
```
Error: Number of friends must be greater than 0.
```
**Explanation**: This test case covers the scenario where the input is invalid (number of friends is 0). In this case, the function should return an error.