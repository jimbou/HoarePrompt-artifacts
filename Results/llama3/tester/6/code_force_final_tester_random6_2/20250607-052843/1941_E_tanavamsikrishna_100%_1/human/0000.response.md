# Test 1
**Input**:
```
1
3 11 1 4
0 1 2 3 4 5 4 3 2 1 0
0 1 2 3 2 1 2 3 3 2 0
0 1 2 3 5 5 5 5 5 2 0
```
**Output**:
```
4
```
This test case checks the basic functionality of the function with a single bridge and a small grid size.

# Test 2
**Input**:
```
1
4 4 2 1
0 3 3 0
0 2 1 0
0 1 2 0
0 3 3 0
```
**Output**:
```
8
```
This test case verifies the function's behavior with multiple bridges and a small grid size.

# Test 3
**Input**:
```
1
4 5 2 5
0 1 1 1 0
0 2 2 2 0
0 2 1 1 0
0 3 2 1 0
```
**Output**:
```
4
```
This test case checks the function's behavior with multiple bridges and a medium-sized grid.

# Test 4
**Input**:
```
1
1 8 1 1
0 10 4 8 4 4 2 0
```
**Output**:
```
15
```
This test case verifies the function's behavior with a single bridge and a large grid size.

# Test 5
**Input**:
```
1
4 5 3 2
0 8 4 4 0
0 3 4 8 0
0 8 1 10 0
0 10 1 5 0
```
**Output**:
```
14
```
This test case checks the function's behavior with multiple bridges and a large grid size.

# Test 6 (Edge Case)
**Input**:
```
1
1 1 1 1
0
```
**Output**:
```
0
```
This test case verifies the function's behavior with a grid size of 1x1.

# Test 7 (Edge Case)
**Input**:
```
1
1 2 1 1
0 0
```
**Output**:
```
0
```
This test case checks the function's behavior with a grid size of 1x2.

# Test 8 (Edge Case)
**Input**:
```
1
2 1 1 1
0
0
```
**Output**:
```
0
```
This test case verifies the function's behavior with a grid size of 2x1.

# Test 9 (Edge Case)
**Input**:
```
1
2 2 1 1
0 0
0 0
```
**Output**:
```
0
```
This test case checks the function's behavior with a grid size of 2x2.

# Test 10 (Edge Case)
**Input**:
```
1
1 1 1 0
0
```
**Output**:
```
Error: Invalid input (d cannot be 0)
```
This test case verifies the function's behavior with an invalid input (d=0).