# Test 1
**Input**:
```
1
4 2
7 3 6 9
4 3 8 5
```
**Output**:
```
14
```
**Explanation**: This test case checks the basic functionality of the function. Kirill needs to spend 14 coins to reach the second position.

# Test 2
**Input**:
```
1
6 2
6 9 7 1 8 3
5 8 8 1 4 1
```
**Output**:
```
22
```
**Explanation**: This test case checks the function's behavior when the number of people in the queue is larger than the maximum allowable final position of Kirill.

# Test 3
**Input**:
```
1
7 7
7 2 9 2 6 5 9
9 1 10 7 1 4 9
```
**Output**:
```
9
```
**Explanation**: This test case checks the function's behavior when the number of people in the queue is equal to the maximum allowable final position of Kirill.

# Test 4
**Input**:
```
1
2 1
2 3
1 1
```
**Output**:
```
3
```
**Explanation**: This test case checks the function's behavior when there are only two people in the queue.

# Test 5
**Input**:
```
1
1 1
1
1
```
**Output**:
```
0
```
**Explanation**: This test case checks the function's behavior when there is only one person in the queue.

# Test 6
**Input**:
```
1
200000 1
[1] * 200000
[1] * 200000
```
**Output**:
```
199999
```
**Explanation**: This test case checks the function's behavior when the number of people in the queue is very large.

# Test 7
**Input**:
```
1
200000 200000
[1] * 200000
[1] * 200000
```
**Output**:
```
0
```
**Explanation**: This test case checks the function's behavior when the number of people in the queue is very large and the maximum allowable final position of Kirill is also very large.

# Test 8
**Input**:
```
1
1 1
1000000000
1000000000
```
**Output**:
```
0
```
**Explanation**: This test case checks the function's behavior when the values of a_i and b_i are very large.

# Test 9
**Input**:
```
1
1 1
0
0
```
**Output**:
```
0
```
**Explanation**: This test case checks the function's behavior when the values of a_i and b_i are zero.

# Test 10
**Input**:
```
1
1 1
-1
-1
```
**Output**:
```
Error
```
**Explanation**: This test case checks the function's behavior when the values of a_i and b_i are negative. The function should raise an error in this case.