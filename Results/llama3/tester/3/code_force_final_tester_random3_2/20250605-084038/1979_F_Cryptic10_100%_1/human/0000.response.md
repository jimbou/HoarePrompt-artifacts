# Test 1
**Input**: 
```
3
4
0 0
1 4
2 3
4
1 0
4 2
2
1 0
```
**Output**: 
```
? 3
? 2
? 1
! 4 3 1 2
? 3
? 0
! 4 1 2 3
? 0
! 2 1
```
**Description**: This test case covers the basic scenario where the graph has 4 vertices and 2 edges are removed. The queries are made to find the Hamiltonian path.

# Test 2
**Input**: 
```
1
2
```
**Output**: 
```
? 0
! 2 1
```
**Description**: This test case covers the edge scenario where the graph has only 2 vertices. The query is made to find the Hamiltonian path.

# Test 3
**Input**: 
```
1
3
1 2
```
**Output**: 
```
? 2
? 1
! 3 1 2
```
**Description**: This test case covers the edge scenario where the graph has 3 vertices and 1 edge is removed. The queries are made to find the Hamiltonian path.

# Test 4
**Input**: 
```
1
5
1 2
2 3
3 4
```
**Output**: 
```
? 4
? 3
? 2
? 1
! 5 1 3 2 4
```
**Description**: This test case covers the edge scenario where the graph has 5 vertices and 3 edges are removed. The queries are made to find the Hamiltonian path.

# Test 5
**Input**: 
```
1
10
1 2
2 3
3 4
4 5
5 6
6 7
7 8
8 9
9 10
```
**Output**: 
```
? 9
? 8
? 7
? 6
? 5
? 4
? 3
? 2
? 1
! 10 1 3 5 7 9 2 4 6 8
```
**Description**: This test case covers the edge scenario where the graph has 10 vertices and 9 edges are removed. The queries are made to find the Hamiltonian path.

# Test 6
**Input**: 
```
1
100000
1 2
2 3
3 4
...
99999 100000
```
**Output**: 
```
? 99999
? 99998
? 99997
...
? 2
? 1
! 100000 1 3 5 ... 99999 2 4 6 ... 99998
```
**Description**: This test case covers the edge scenario where the graph has 100000 vertices and 99999 edges are removed. The queries are made to find the Hamiltonian path.