# Test 1
**Input**: 
```
1
3
9 8 14
3 2 1
```
**Output**: 
```
16 2
```
**Explanation**: This test case checks the basic functionality of the function. The input contains three mushrooms with magic powers 9, 8, and 14. The permutation is [3, 2, 1]. The function should return 16 as the maximum strength of the elixir and 2 as the minimum number of mushrooms needed.

# Test 2
**Input**: 
```
1
5
1 2 3 4 5
1 2 3 4 5
```
**Output**: 
```
9 3
```
**Explanation**: This test case checks the scenario where the permutation is the same as the order of the mushrooms. The function should return 9 as the maximum strength of the elixir and 3 as the minimum number of mushrooms needed.

# Test 3
**Input**: 
```
1
6
1 2 3 4 5 6
6 5 4 3 2 1
```
**Output**: 
```
8 2
```
**Explanation**: This test case checks the scenario where the permutation is in reverse order of the mushrooms. The function should return 8 as the maximum strength of the elixir and 2 as the minimum number of mushrooms needed.

# Test 4
**Input**: 
```
1
5
1 4 6 10 10
2 1 4 5 3
```
**Output**: 
```
20 2
```
**Explanation**: This test case checks the scenario where there are duplicate magic powers. The function should return 20 as the maximum strength of the elixir and 2 as the minimum number of mushrooms needed.

# Test 5
**Input**: 
```
1
4
2 2 5 5
4 2 3 1
```
**Output**: 
```
5 1
```
**Explanation**: This test case checks the scenario where there are duplicate magic powers and the permutation is not in order. The function should return 5 as the maximum strength of the elixir and 1 as the minimum number of mushrooms needed.

# Test 6
**Input**: 
```
1
5
1 2 9 10 10
1 4 2 3 5
```
**Output**: 
```
20 2
```
**Explanation**: This test case checks the scenario where there are duplicate magic powers and the permutation is not in order. The function should return 20 as the maximum strength of the elixir and 2 as the minimum number of mushrooms needed.

# Test 7
**Input**: 
```
1
1
10
1
```
**Output**: 
```
10 1
```
**Explanation**: This test case checks the scenario where there is only one mushroom. The function should return 10 as the maximum strength of the elixir and 1 as the minimum number of mushrooms needed.

# Test 8
**Input**: 
```
1
2
10 10
1 2
```
**Output**: 
```
20 2
```
**Explanation**: This test case checks the scenario where there are two mushrooms with the same magic power. The function should return 20 as the maximum strength of the elixir and 2 as the minimum number of mushrooms needed.

# Test 9
**Input**: 
```
1
2
10 10
2 1
```
**Output**: 
```
20 2
```
**Explanation**: This test case checks the scenario where there are two mushrooms with the same magic power and the permutation is in reverse order. The function should return 20 as the maximum strength of the elixir and 2 as the minimum number of mushrooms needed.

# Test 10
**Input**: 
```
1
200000
[1]*200000
[1]*200000
```
**Output**: 
```
200000 200000
```
**Explanation**: This test case checks the scenario where there are 200000 mushrooms with the same magic power. The function should return 200000 as the maximum strength of the elixir and 200000 as the minimum number of mushrooms needed.

# Test 11
**Input**: 
```
1
200000
[10**9]*200000
[1]*200000
```
**Output**: 
```
2000000000000000000 200000
```
**Explanation**: This test case checks the scenario where there are 200000 mushrooms with the maximum magic power. The function should return 2000000000000000000 as the maximum strength of the elixir and 200000 as the minimum number of mushrooms needed.

# Test 12
**Input**: 
```
1
200000
[1]*200000
[200000]*200000
```
**Output**: 
```
1 1
```
**Explanation**: This test case checks the scenario where there are 200000 mushrooms with the same magic power and the permutation is in reverse order. The function should return 1 as the maximum strength of the elixir and 1 as the minimum number of mushrooms needed.