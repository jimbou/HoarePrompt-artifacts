Here are the test cases for the problem:

**Test 1: Basic Test Case - Single Element Array**
**Input**:
```
1 1
1
```
**Output**:
```
! 1
```
**Explanation**: This test case checks the basic functionality of the code when the input array has only one element.

**Test 2: Basic Test Case - Two Element Array**
**Input**:
```
2 2
1 2
```
**Output**:
```
? 1 1
? 2 1
! -1
```
**Explanation**: This test case checks the code's behavior when the input array has two elements and the number of subarrays is also two.

**Test 3: Basic Test Case - Large Array**
**Input**:
```
6 3
1 3 6 1 2 1
```
**Output**:
```
? 1 9
? 1 6
? 3 6
? 4 6
! 6
```
**Explanation**: This test case checks the code's behavior when the input array is large and the number of subarrays is three.

**Test 4: Edge Test Case - Invalid Input**
**Input**:
```
0 1
```
**Output**:
```
-1
```
**Explanation**: This test case checks the code's behavior when the input is invalid (array length is zero).

**Test 5: Edge Test Case - Exceeding Query Limit**
**Input**:
```
10 2
1 2 3 4 5 6 7 8 9 10
```
**Output**:
```
? 1 10
? 1 10
? 1 10
...
? 1 10 (more than 20 times)
-1
```
**Explanation**: This test case checks the code's behavior when the number of queries exceeds the limit.

**Test 6: Edge Test Case - Incorrect Answer**
**Input**:
```
5 2
1 2 3 4 5
```
**Output**:
```
! 10
-1
```
**Explanation**: This test case checks the code's behavior when the answer is incorrect.

**Test 7: Edge Test Case - No Valid Split**
**Input**:
```
4 3
1 2 3 4
```
**Output**:
```
? 1 4
? 1 3
? 1 2
? 1 1
! -1
```
**Explanation**: This test case checks the code's behavior when there is no valid split for the given array and number of subarrays.

These test cases cover various scenarios, including basic functionality, edge cases, and invalid inputs. They ensure that the code is robust and handles different situations correctly.