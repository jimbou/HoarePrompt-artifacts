# Test 1
**Input**:
```
1
3
9 8 14
3 2 1
```
**Output**:
```
16 2
```
**Explanation**: This test case checks the basic functionality of the function. The input array `v` has three elements, and the permutation `p` is also of length three. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 2
**Input**:
```
1
5
1 2 3 4 5
1 2 3 4 5
```
**Output**:
```
9 3
```
**Explanation**: This test case checks the function's behavior when the input array `v` is already sorted in ascending order. The permutation `p` is also the identity permutation. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 3
**Input**:
```
1
6
1 2 3 4 5 6
6 5 4 3 2 1
```
**Output**:
```
8 2
```
**Explanation**: This test case checks the function's behavior when the input array `v` is already sorted in descending order. The permutation `p` is the reverse permutation. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 4
**Input**:
```
1
5
1 4 6 10 10
2 1 4 5 3
```
**Output**:
```
20 2
```
**Explanation**: This test case checks the function's behavior when there are duplicate elements in the input array `v`. The permutation `p` is a random permutation. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 5
**Input**:
```
1
4
2 2 5 5
4 2 3 1
```
**Output**:
```
5 1
```
**Explanation**: This test case checks the function's behavior when there are duplicate elements in the input array `v` and the permutation `p` is a random permutation. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 6
**Input**:
```
1
5
1 2 9 10 10
1 4 2 3 5
```
**Output**:
```
20 2
```
**Explanation**: This test case checks the function's behavior when there are duplicate elements in the input array `v` and the permutation `p` is a random permutation. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 7
**Input**:
```
1
1
1
1
```
**Output**:
```
1 1
```
**Explanation**: This test case checks the function's behavior when the input array `v` has only one element. The permutation `p` is also of length one. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 8
**Input**:
```
1
2
1 1
1 2
```
**Output**:
```
1 1
```
**Explanation**: This test case checks the function's behavior when the input array `v` has two elements that are equal. The permutation `p` is the identity permutation. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 9
**Input**:
```
1
2
1 1
2 1
```
**Output**:
```
1 1
```
**Explanation**: This test case checks the function's behavior when the input array `v` has two elements that are equal and the permutation `p` is the reverse permutation. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.

# Test 10
**Input**:
```
1
200000
[1]*200000
[1]*200000
```
**Output**:
```
200000 200000
```
**Explanation**: This test case checks the function's behavior when the input array `v` has a large number of elements that are all equal. The permutation `p` is the identity permutation. The function should return the maximum strength of the elixir that can be brewed and the minimum number of mushrooms that Kirill needs to use for this.