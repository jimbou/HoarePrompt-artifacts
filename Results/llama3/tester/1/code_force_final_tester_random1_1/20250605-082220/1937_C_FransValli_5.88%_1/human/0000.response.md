Here are the test cases for the given problem:

**1. Basic Test Cases**

# Test 1
**Input**: 
```
2
4
0 3 1 2
2
0 1
```
**Output**: 
```
? 0 2 3 1
<
? 1 1 2 3
=
? 1 2 0 3
>
! 3 2
! 0 1
```
**Description**: This test case covers the basic functionality of the problem. The first test case has a permutation of [0, 3, 1, 2] and the second test case has a permutation of [0, 1].

# Test 2
**Input**: 
```
1
8
0 1 2 3 4 5 6 7
```
**Output**: 
```
? 0 1 2 3
<
? 4 5 6 7
>
? 0 1 4 5
=
? 2 3 6 7
=
? 0 4 2 6
<
? 1 5 3 7
>
! 7 0
```
**Description**: This test case covers a larger permutation of [0, 1, 2, 3, 4, 5, 6, 7].

**2. Edge Test Cases**

# Test 3
**Input**: 
```
1
2
0 1
```
**Output**: 
```
! 0 1
```
**Description**: This test case covers the edge case where the permutation has only two elements.

# Test 4
**Input**: 
```
1
1
0
```
**Output**: 
```
! 0 0
```
**Description**: This test case covers the edge case where the permutation has only one element.

# Test 5
**Input**: 
```
1
10
0 1 2 3 4 5 6 7 8 9
```
**Output**: 
```
? 0 1 2 3
<
? 4 5 6 7
>
? 0 1 4 5
=
? 2 3 6 7
=
? 0 4 2 6
<
? 1 5 3 7
>
? 8 9 0 1
>
? 8 9 4 5
>
? 8 9 2 3
>
? 8 9 6 7
>
! 9 0
```
**Description**: This test case covers a larger permutation of [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].

# Test 6
**Input**: 
```
1
10000
0 1 2 3 ... 9999
```
**Output**: 
```
? 0 1 2 3
<
? 4 5 6 7
>
? 0 1 4 5
=
? 2 3 6 7
=
? 0 4 2 6
<
? 1 5 3 7
>
...
! 9999 0
```
**Description**: This test case covers the edge case where the permutation has 10,000 elements.

Note: The output for Test 6 is truncated due to its large size.