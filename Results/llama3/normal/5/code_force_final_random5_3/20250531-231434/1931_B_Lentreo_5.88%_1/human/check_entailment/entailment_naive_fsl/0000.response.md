Correctness: **False**.

The program does not work correctly for all cases. For example, consider the input:

3
1 2 3

The program will output "NO", but the correct output should be "YES". This is because the program only checks if the sum of the differences between each number and the last number is zero, but it does not consider the possibility of pouring water from one container to another.

A correct solution would need to check if it is possible to make the amount of water in all containers the same by pouring water from one container to another, taking into account the constraint that water can only be poured from a container with a smaller index to a container with a larger index.

Here is a correct solution:

def func():
    t = int(input())
    for _ in range(t):
        n = int(input())
        nums = list(map(int, input().strip().split()))
        avg = sum(nums) // n
        prefix_sum = 0
        for i in range(n):
            prefix_sum += nums[i]
            if prefix_sum < avg * (i + 1):
                print('NO')
                break
        else:
            print('YES')

This solution calculates the average amount of water that each container should have, and then checks if it is possible to make the amount of water in all containers the same by pouring water from one container to another. It does this by calculating the prefix sum of the amounts of water in the containers, and checking if the prefix sum is less than the average amount of water times the current index. If it is, then it is not possible to make the amount of water in all containers the same, and the program outputs "NO". Otherwise, it outputs "YES".