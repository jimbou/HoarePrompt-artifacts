Reasoning:

The given program is correct. Here's why:

1. The program first reads the number of test cases `T` and then iterates over each test case.
2. For each test case, it reads the size of the array `S` and the array `N` itself.
3. It sorts the array `N` in ascending order.
4. It initializes a dictionary `M` to keep track of the count of each number in the array.
5. It iterates over the sorted array `N` and updates the count of each number in the dictionary `M`.
6. If the sum of the counts in the dictionary `M` is equal to the size of the array `S`, it increments the `cur` variable by 1. This is because if all numbers in the array are present in the dictionary `M`, it means that Alice can choose all numbers in the array, and the MEX of the resulting array will be one more than the maximum number in the array.
7. It then iterates over the range of `cur` and checks if the count of each number `i` in the dictionary `M` is less than or equal to `i`. If it is, it sets `cur` to `i` and breaks the loop. This is because if the count of a number `i` is less than or equal to `i`, it means that Bob can choose `i` numbers from the array, and the MEX of the resulting array will be `i`.
8. Finally, it prints the value of `cur`, which is the MEX of the resulting array.

The program correctly implements the optimal strategy for both players, and the output matches the expected output for the given example inputs.

Correctness: **True**