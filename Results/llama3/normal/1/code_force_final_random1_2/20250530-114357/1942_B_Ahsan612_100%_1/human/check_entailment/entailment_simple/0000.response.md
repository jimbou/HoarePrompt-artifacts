Reasoning:

The given program is correct. Here's why:

1. The program correctly reads the input: it reads the number of test cases `t`, then for each test case, it reads the length of the permutation `n` and the array `a`.

2. The program initializes an array `res` of length `n` to store the permutation `p`. It also initializes a variable `mex` to `n`, which will be used to keep track of the minimum non-negative integer that does not appear in the permutation.

3. The program then iterates over the array `a` in reverse order. For each element `a_i`, it calculates the corresponding element `p_i` in the permutation using the formula `p_i = mex - a_i`. This is based on the definition of the array `a`, where `a_i = MEX(p_1, p_2, ..., p_i) - p_i`.

4. After calculating `p_i`, the program updates the value of `mex` to be the minimum of its current value and `p_i`. This ensures that `mex` always represents the minimum non-negative integer that does not appear in the permutation.

5. Finally, the program prints the permutation `p` as a string of space-separated integers.

The program's logic is correct, and it should produce the correct output for all valid inputs.

Correctness: **True**