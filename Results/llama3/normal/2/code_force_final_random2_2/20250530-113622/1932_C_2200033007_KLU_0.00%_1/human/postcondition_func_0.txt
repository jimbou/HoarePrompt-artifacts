This function takes a list of positive integers and a string of 'L' and 'R' characters as input, and returns a list of products in reverse order. The function first rearranges the input list based on the string, where 'L' means take from the left and 'R' means take from the right. Then, it calculates the cumulative product of the rearranged list and returns the result in reverse order.