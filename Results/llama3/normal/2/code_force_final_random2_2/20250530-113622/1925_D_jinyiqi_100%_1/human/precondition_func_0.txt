stdin contains multiple test cases. Each test case contains an integer k, followed by k lines, each containing three integers n, m, and k, followed by m lines, each containing three integers a_i, b_i, and f_i.