Reasoning:

The given program is correct. Here's why:

1.  The program correctly reads the input for each test case, which includes the number of children (n), the number of pairs of friends (m), and the number of excursions (k). It also reads the friendship values for each pair of friends.

2.  The program calculates the sum of the initial friendship values (sum\_f) and the total number of possible pairs of children (cn2).

3.  The program then calculates the expected value of the sum of friendship values for all k pairs chosen for the excursions. This is done by calculating the probability of choosing a pair of friends (p) and the total number of possible pairs (q).

4.  The program simplifies the fraction p/q by dividing both the numerator and the denominator by their greatest common divisor (gcd).

5.  Finally, the program calculates the modular inverse of q modulo M (10^9 + 7) and multiplies it with p to get the final result.

The program correctly implements the mathematical formulas and algorithms required to solve the problem. It also handles the modular arithmetic correctly to avoid overflow and ensure the result is within the required range.

Correctness: **True**