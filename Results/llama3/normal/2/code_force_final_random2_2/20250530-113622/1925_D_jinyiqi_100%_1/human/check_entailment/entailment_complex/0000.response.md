Reasoning:

The given Python program is designed to solve a problem involving the expected value of the sum of friendship values of all k pairs chosen for excursions. The program reads multiple test cases from standard input, calculates a value based on these inputs, and prints the result for each test case.

The program correctly implements the formula for the expected value, which involves calculating the sum of the products of the friendship values and the probabilities of choosing each pair. The program also correctly handles the case where the greatest common divisor of the numerator and denominator is not 1, by dividing both numbers by their greatest common divisor.

The program uses the `math.gcd` function to calculate the greatest common divisor, which is a built-in function in Python that returns the greatest common divisor of two numbers. The program also uses the `pow` function with three arguments to calculate the modular inverse of the denominator, which is a built-in function in Python that returns the result of raising the first argument to the power of the second argument, modulo the third argument.

The program does not have any syntax errors, and it correctly handles the input and output formats specified in the problem description. Therefore, the program is correct.

Correctness: **True**