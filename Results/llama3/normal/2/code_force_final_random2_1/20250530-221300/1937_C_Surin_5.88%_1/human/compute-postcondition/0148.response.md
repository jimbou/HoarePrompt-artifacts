Output State: **kp is the number of test cases, n is an integer greater than or equal to 0, g is 0, v1 is an integer between 0 and n-1 inclusive, i is n-1, v2 is n-1, prev is n-1 if r is '>', otherwise prev is 0, I is a function that reads a list of integers from stdin, R is a function that reads a single integer from stdin, stdin contains at least 0 inputs, and the string "? 0 0 1 1", "? 1 1 2 2", ..., "? (n-2) (n-2) (n-1) (n-1)" are printed, and this is printed: "? [v1] [i] [v1] [prev]" where v1 is an integer between 0 and n-1 inclusive, i is n-1, and prev is n-1 if r is '>', otherwise prev is 0, and r is a string read from stdin, and this is printed: "! [prev] [v1]" where prev is n-1 if r is '>', otherwise prev is 0, and v1 is an integer between 0 and n-1 inclusive, and the output buffer is flushed.**

In natural language, the output state after the loop executes all the iterations is that the loop has finished executing for all test cases. The loop counter `kp` has reached the number of test cases, and the variables `n`, `g`, `v1`, `i`, `v2`, and `prev` have their final values after the last iteration. The input functions `I` and `R` remain unchanged, and the input buffer `stdin` contains any remaining inputs. The output buffer has been flushed, and the final output has been printed, including the results of the last iteration.