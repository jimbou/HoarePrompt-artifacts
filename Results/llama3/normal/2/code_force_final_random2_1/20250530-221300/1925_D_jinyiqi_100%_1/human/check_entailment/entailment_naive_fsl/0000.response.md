Correctness: **False**.

The program does not correctly calculate the expected value of the sum of friendship values of all k pairs chosen for the excursions. The issue lies in the calculation of the probability `p` and `q`.

The correct calculation of `p` should be the sum of the products of the friendship values and the number of times each pair is chosen, which is `k * m * sum_f`. The correct calculation of `q` should be the total number of possible pairs, which is `cn2 ** k`.

However, the program calculates `p` as `2 * k * cn2 * sum_f + m * k * (k - 1)`, which is incorrect. It also calculates `q` as `2 * cn2 ** 2`, which is also incorrect.

A counterexample is when `n = 3`, `m = 2`, `k = 2`, and the friendship values are `1` and `2`. The correct expected value is `5/3`, but the program will output a different value.

Therefore, the program is incorrect.