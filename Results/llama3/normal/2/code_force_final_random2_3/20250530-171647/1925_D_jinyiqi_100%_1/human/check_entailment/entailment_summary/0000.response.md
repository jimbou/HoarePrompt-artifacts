Reasoning: 
The given Python program is correct. It accurately implements the required logic to solve the problem. Here's a breakdown of the reasoning:

1. The program correctly reads the input for each test case, including the number of children (n), the number of pairs of friends (m), and the number of excursions (k). It also reads the friendship values (f_i) for each pair of friends.

2. The program calculates the sum of all friendship values (sum_f) by iterating over the m pairs of friends.

3. It calculates the total number of possible pairs of children (cn2) using the formula n*(n-1)//2.

4. The program then calculates the numerator (p) and denominator (q) of the expected value of the sum of friendship values. The numerator is calculated as 2*k*cn2*sum_f + m*k*(k-1), and the denominator is calculated as 2*cn2**2.

5. The program calculates the greatest common divisor (gcd) of p and q using the math.gcd function and divides both p and q by the gcd to simplify the fraction.

6. Finally, the program calculates the modular multiplicative inverse of q modulo M (where M is 10^9 + 7) using the pow function with three arguments, and multiplies it by p to get the final result. The result is then printed for each test case.

The program correctly implements the required logic and accurately calculates the expected value of the sum of friendship values for each test case.

Correctness: **True**