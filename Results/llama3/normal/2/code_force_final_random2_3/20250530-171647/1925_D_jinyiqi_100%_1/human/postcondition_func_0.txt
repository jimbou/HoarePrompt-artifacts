This function reads multiple test cases from standard input, each containing three integers n, m, and k, followed by m lines of three integers a_i, b_i, and f_i. It calculates the sum of all f_i values, then computes two values p and q based on n, m, k, and the sum of f_i. The function then prints the modular multiplicative inverse of q modulo M (where M is 10^9 + 7) multiplied by p, for each test case.