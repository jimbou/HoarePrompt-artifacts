State: **n is at least 3, kp is 1, g is 0, if r is '<', then v1 is 2, otherwise v1 is 0, v2 is 2, i is 3, prev is n-1 if r is '<', otherwise prev is either 0 or n-1, r is an empty string, stdin is empty**