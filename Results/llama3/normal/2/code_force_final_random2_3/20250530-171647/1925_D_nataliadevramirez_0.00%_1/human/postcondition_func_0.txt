Functionality: This function calculates the sum of a weighted sum of friendships, where each friendship is weighted by the product of the friendship value and a triangular number (k * (k + 1) // 2), and returns the result modulo a constant value MOD. The function takes as input a positive integer n, a non-negative integer m, a positive integer k, and a list of m tuples representing friendships, each containing three positive integers a, b, and f. The function returns a single value, which is the result of the calculation modulo MOD.