Functionality: This function takes a list of integers 'arr' and its length 'n' as input, and returns a new list of 'n' integers. The returned list contains the differences between consecutive elements in the input list, with the last element being 10^9.