The function reads an integer t from standard input, representing the number of lines to process. It then reads t lines, each containing four integers. For each line, it calculates a weighted sum of the integers, where the first three integers are weighted 3 times their integer division by 2 plus their remainder when divided by 2, and the fourth integer is not weighted. The sum is then divided by 3. The function prints the calculated weighted sum for each line, separated by newline characters.