Reasoning: 

The given Python program is correct based on the problem description and the execution states of the program provided as comments.

Here's why:

1. The program correctly reads the input and initializes the necessary variables.

2. It creates a list `arr` where each element is a tuple containing the start index, end index, and the value of a segment of consecutive equal numbers in the input list `nums`.

3. For each query, it uses binary search to find the segment that contains the left boundary `l` of the query.

4. If the start index `s` of the segment is greater than `l`, it means that `l` is in a segment that ends before `s`. If this segment is not the first segment (i.e., `s` is not 1), it prints the last element of the previous segment and the first element of the current segment. Otherwise, it prints -1 -1.

5. If the end index `e` of the segment is greater than or equal to `r`, it means that `r` is in the same segment as `l`, so it prints -1 -1.

6. If `e` is less than `r` or `e` is less than `l`, it means that `r` is in a different segment than `l`, so it prints the last element of the segment that contains `l` and the first element of the next segment.

7. If none of the above conditions are met, it prints -1 -1.

The program correctly handles all possible cases and prints the correct output for each query.

Correctness: **True**