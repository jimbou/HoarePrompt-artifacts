Functionality: **This function takes a positive integer `n` as input and returns a generator that yields all prime factors of `n`. The function first calculates the prime factors of `n` and their respective powers, then yields each prime factor. The input `n` is modified to be its original value divided by the product of all its prime factors to their respective powers. The function also returns a dictionary `factors` containing the prime factors and their powers, and a list `primes` of all prime factors.**