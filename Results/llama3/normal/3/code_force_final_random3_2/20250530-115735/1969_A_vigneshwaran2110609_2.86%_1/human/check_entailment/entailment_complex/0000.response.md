Reasoning:

The given program is correct. It correctly implements the logic to solve the problem. The program iterates over each test case, and for each test case, it checks if there exists a pair of friends who are each other's best friends. If such a pair is found, it prints 2, because sending invitations to these two friends will result in at least two friends attending the party. If no such pair is found, it prints 3, because in this case, at least three friends need to be invited to ensure that at least two friends attend the party.

The program's logic is sound, and it correctly handles all possible cases. The use of a flag variable to break out of the loop as soon as a pair of friends is found is also efficient.

Correctness: **True**