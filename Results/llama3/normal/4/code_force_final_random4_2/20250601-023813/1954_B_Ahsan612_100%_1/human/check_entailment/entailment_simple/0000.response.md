Reasoning:

The given program is correct. It correctly implements the logic to find the minimum number of elements that need to be removed from a beautiful array to make it not beautiful.

Here's a breakdown of the reasoning:

1. The program first reads the number of test cases `t` and then iterates over each test case.

2. For each test case, it reads the length of the array `n` and the array `ar` itself.

3. It initializes variables `same` to 1 (to count the number of consecutive occurrences of the current element), `num` to the first element of the array, and `minn` to infinity (to store the minimum number of consecutive occurrences of any element).

4. It then iterates over the array, incrementing `same` whenever it encounters the same element, and updating `num` and `minn` whenever it encounters a different element.

5. After the loop, it updates `minn` one last time to account for the last sequence of consecutive elements.

6. Finally, it checks if `minn` is either infinity (which means the array only contains one element) or equal to the length of the array (which means all elements are the same). If either condition is true, it prints -1, indicating that it's impossible to make the array not beautiful. Otherwise, it prints `minn`, which is the minimum number of elements that need to be removed.

Correctness: **True**