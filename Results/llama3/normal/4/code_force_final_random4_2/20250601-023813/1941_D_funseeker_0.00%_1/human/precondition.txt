stdin contains multiple test cases. Each test case contains an integer n, an integer m, an integer x, and m lines, each containing an integer r and a character c. n is the number of players, m is the number of throws, x is the number of the player who threw the ball first, r is the distance at which the throw was made, and c is the direction of the throw ('0' for clockwise, '1' for counterclockwise, or '?' for unknown).