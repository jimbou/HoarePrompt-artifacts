Reasoning:

The given program is correct. Here's why:

1.  The program correctly reads the number of test cases and the size of the matrix `n` for each test case.
2.  It initializes a matrix `mat` with values ranging from 1 to `n`, but this matrix is not actually used in the program. Instead, it directly calculates the maximum sum of the numbers in the matrix, which is the sum of the first `n` cubes (`res`).
3.  The program prints the maximum sum `res` and the number of operations, which is `2n`.
4.  Then, it prints the operations to achieve the maximum sum. For each row and column, it prints a permutation of numbers from 1 to `n`. This is a valid solution because it ensures that each number from 1 to `n` appears in each row and column, maximizing the sum.

The program's logic is correct, and it produces the expected output for the given problem.

Correctness: **True**