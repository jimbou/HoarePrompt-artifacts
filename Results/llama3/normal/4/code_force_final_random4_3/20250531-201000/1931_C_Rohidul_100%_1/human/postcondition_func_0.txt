This function reads multiple test cases from standard input, where each test case consists of an integer n followed by a list of n non-negative integers. It then calculates the minimum number of elements that need to be removed from the list so that the remaining elements are either all equal to the first element or all equal to the last element. If the first and last elements are the same, it calculates the maximum number of elements that can be removed while still satisfying the condition. The function prints the result for each test case.