Calculates a score based on a sequence of positions and values, handling both linear and cyclic sequences.